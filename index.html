<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØªØ¨Ø¹ Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
            color: #333;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(50, 50, 93, 0.1), 0 5px 15px rgba(0, 0, 0, 0.07);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.2em;
            font-weight: 700;
        }

        .section-panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 25px;
            border: 1px solid #eef2f7;
        }

        .section-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #34495e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .section-title svg {
            width: 22px;
            height: 22px;
            opacity: 0.7;
        }

        label {
            font-weight: 500;
            color: #555;
            font-size: 0.9em;
            display: block;
            margin-bottom: 5px;
        }

        input, select, button, textarea {
            padding: 10px 12px;
            border: 1px solid #d1d9e6;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease-in-out;
            width: 100%;
            background-color: #f8f9fa;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
            background-color: #fff;
        }

        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            padding: 10px 20px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(102, 126, 234, 0.25);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .grid-layout {
            display: grid;
            gap: 15px;
        }

        .grid-col-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-col-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-col-4 { grid-template-columns: repeat(4, 1fr); }
        .grid-col-5 { grid-template-columns: repeat(5, 1fr); }
        .grid-col-6 { grid-template-columns: repeat(6, 1fr); }

        .form-grid {
            display: grid;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-buttons {
            display: flex;
            justify-content: flex-start;
            gap: 10px;
            margin-top: 15px;
        }

        .campaign-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 13px;
        }

        .campaign-table th, .campaign-table td {
            padding: 10px 12px;
            border: 1px solid #eef2f7;
            text-align: right;
            vertical-align: middle;
        }

        .campaign-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #34495e;
        }

        .campaign-table tr:nth-child(even) {
            background-color: #fdfdfe;
        }

        .campaign-table tr:hover {
            background-color: #f1f5f9;
        }

        .action-buttons {
            display: flex;
            gap: 5px;
            justify-content: center;
        }

        .edit-btn, .delete-btn {
            padding: 4px 8px;
            font-size: 11px;
            border-radius: 5px;
            width: auto;
        }

        .edit-btn { background: linear-gradient(135deg, #5dade2, #2e86c1); }
        .delete-btn { background: linear-gradient(135deg, #f1948a, #e74c3c); }

        .status-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 500;
            color: white;
            min-width: 60px;
            text-align: center;
        }

        .status-active { background-color: #2ecc71; }
        .status-pending { background-color: #f39c12; }
        .status-completed { background-color: #3498db; }
        .status-cancelled { background-color: #e74c3c; }
        .status-not-published { background-color: #95a5a6; }
        .status-published { background-color: #2ecc71; }

        .payment-status-paid { color: #27ae60; font-weight: bold; }
        .payment-status-unpaid { color: #c0392b; font-weight: bold; }

        .summary-section {
            margin-top: 30px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .summary-card {
            background: #fff;
            border: 1px solid #eef2f7;
            color: #333;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .summary-card h3 {
            font-size: 1.6em;
            margin-bottom: 5px;
            color: #667eea;
        }

        .summary-card p {
            color: #555;
            font-size: 0.9em;
        }

        .budget-tracker {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #eef2f7;
        }

        .budget-bar {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 5px;
        }

        .budget-progress {
            height: 100%;
            background-color: #667eea;
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .budget-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            margin-top: 5px;
            color: #555;
        }

        .color-preview {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            display: inline-block;
            margin-right: 8px;
            border: 1px solid #ccc;
            vertical-align: middle;
        }

        .firebase-status, .backup-status {
            margin-top: 10px;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            display: none;
        }

        .firebase-status.success, .backup-status.success { background-color: #d1e7dd; color: #0f5132; display: block; }
        .firebase-status.error, .backup-status.error { background-color: #f8d7da; color: #842029; display: block; }
        .firebase-status.info, .backup-status.info { background-color: #cff4fc; color: #055160; display: block; }
        .firebase-status.warning, .backup-status.warning { background-color: #fff3cd; color: #664d03; display: block; }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(46, 204, 113, 0.95);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            display: none;
            font-weight: 500;
            animation: fadeInOut 3s ease;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
            15% { opacity: 1; transform: translateX(-50%) translateY(0); }
            85% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
        }

        .activity-log {
            margin-top: 20px;
            max-height: 300px; /* Increased height */
            overflow-y: auto;
            border: 1px solid #eef2f7;
            border-radius: 8px;
            padding: 15px;
            background-color: #fdfdfe;
        }

        .activity-item {
            padding: 8px 0;
            border-bottom: 1px solid #f1f5f9;
            font-size: 13px;
            color: #555;
        }

        .activity-item:last-child { border-bottom: none; }
        .activity-time { font-weight: 500; color: #667eea; margin-left: 8px; }
        .activity-user { font-weight: 600; color: #764ba2; }

        .file-input-container { position: relative; display: inline-block; }
        .file-input { position: absolute; left: 0; top: 0; opacity: 0; width: 100%; height: 100%; cursor: pointer; }
        .file-input-label { display: inline-block; padding: 10px 15px; background: linear-gradient(135deg, #5dade2, #2e86c1); color: white; border-radius: 8px; cursor: pointer; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.3s ease; width: auto; }
        .file-input-label:hover { transform: translateY(-2px); box-shadow: 0 8px 15px rgba(93, 173, 226, 0.25); }
        .file-name { margin-top: 8px; font-size: 13px; color: #555; }

        /* Export buttons */
        .export-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .export-btn {
            padding: 10px 15px;
            font-size: 14px;
            border-radius: 8px;
            width: auto;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .export-pdf-btn { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .export-csv-btn { background: linear-gradient(135deg, #27ae60, #2ecc71); }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .grid-col-6 { grid-template-columns: repeat(3, 1fr); }
            .grid-col-5 { grid-template-columns: repeat(3, 1fr); }
            .grid-col-4 { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 768px) {
            .grid-col-6, .grid-col-5, .grid-col-4, .grid-col-3, .grid-col-2 { grid-template-columns: 1fr; }
            .container { padding: 20px; }
            h1 { font-size: 1.8em; }
            .section-title { font-size: 1.1em; }
            .campaign-table { font-size: 12px; }
            .campaign-table th, .campaign-table td { padding: 8px; }
            button { padding: 8px 15px; font-size: 13px; }
            input, select, textarea { font-size: 13px; padding: 8px 10px; }
        }

        /* PDF Export Styles */
        @media print {
            body { background: white !important; padding: 0 !important; font-family: Arial, sans-serif !important; direction: rtl !important; color: #000 !important; }
            .container { max-width: 100% !important; margin: 0 !important; padding: 20px !important; background: white !important; box-shadow: none !important; border-radius: 0 !important; border: none !important; }
            .section-panel, .add-influencer-form, .filters-panel, .budget-panel, .user-panel, .firebase-panel, .backup-panel, .activity-log, .action-buttons, .export-buttons, .pdf-settings {
                 display: none !important; 
            }
            h1 { display: none !important; }
            
            .report-header-print { display: block !important; text-align: center; margin-bottom: 30px; }
            .company-name-print { font-size: 24px !important; font-weight: bold !important; color: #000 !important; margin-bottom: 5px !important; }
            .report-title-print { font-size: 18px !important; color: #333 !important; margin-bottom: 15px !important; }
            .report-date-range-print { font-size: 14px !important; color: #555 !important; margin-bottom: 20px !important; }

            .summary-section { margin-top: 0 !important; padding: 0 !important; box-shadow: none !important; background: none !important; border: none !important; }
            .summary-title { display: block !important; font-size: 16px !important; font-weight: bold !important; margin-bottom: 15px !important; text-align: right !important; color: #000 !important; }
            .summary-grid { grid-template-columns: repeat(4, 1fr) !important; gap: 10px !important; }
            .summary-card { background: #f8f9fa !important; color: #000 !important; padding: 10px !important; border-radius: 4px !important; border: 1px solid #ddd !important; box-shadow: none !important; }
            .summary-card h3 { font-size: 16px !important; color: #000 !important; margin-bottom: 3px !important; }
            .summary-card p { font-size: 11px !important; color: #333 !important; opacity: 1 !important; }

            .campaign-table { margin-top: 20px !important; font-size: 9px !important; border: 1px solid #ccc !important; }
            .campaign-table th, .campaign-table td { padding: 5px !important; border: 1px solid #ccc !important; color: #000 !important; background: none !important; }
            .campaign-table th { background-color: #eee !important; font-weight: bold !important; }
            .status-badge { border-radius: 3px !important; font-size: 8px !important; padding: 2px 4px !important; color: #000 !important; border: 1px solid #ccc !important; background: none !important; }
            .payment-status-paid { color: #000 !important; }
            .payment-status-unpaid { color: #000 !important; }
            a { color: #000 !important; text-decoration: none !important; }
        }

        /* Hidden elements for PDF generation */
        .report-header-print { display: none; }

    </style>
</head>
<body>
    <div class="container">
        <h1>Ù…ØªØªØ¨Ø¹ Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</h1>

        <!-- User Panel -->
        <div class="section-panel user-panel">
            <div class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"></path></svg>
                Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            </div>
            <div class="user-form grid-layout grid-col-2">
                <div>
                    <label for="userName">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:</label>
                    <input type="text" id="userName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ØªØªØ¨Ø¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª">
                </div>
                <div style="display: flex; align-items: flex-end;">
                    <button id="setUserNameBtn" onclick="setUserName()">ØªØ¹ÙŠÙŠÙ† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</button>
                </div>
            </div>
            <div id="userInfo" class="user-info" style="display: none; margin-top: 10px;">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ: <span id="currentUserName" class="user-name"></span></div>
        </div>

        <!-- Firebase Panel -->
        <div class="section-panel firebase-panel">
            <div class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3.783 2.826L12 1l8.217 1.826a1 1 0 0 1 .783.976v9.987a6 6 0 0 1-2.672 4.992L12 23l-6.328-4.219A6 6 0 0 1 3 13.79V3.802a1 1 0 0 1 .783-.976zM13 10V5l-5 7h3v5l5-7h-3z"></path></svg>
                Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø´ØªØ±Ùƒ (Firebase)
            </div>
            <div class="firebase-form grid-layout grid-col-3">
                <button id="connectToFirebaseBtn" onclick="connectToFirebase()">Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
                <button id="saveToFirebaseBtn" onclick="saveToFirebase()" disabled>ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©</button>
                <button id="loadFromFirebaseBtn" onclick="loadFromFirebase()" disabled>ğŸ”„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©</button>
            </div>
            <div id="firebaseStatus" class="firebase-status"></div>
        </div>

        <!-- Backup Panel -->
        <div class="section-panel backup-panel">
            <div class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"></path></svg>
                Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„Ù…Ø­Ù„ÙŠ
            </div>
            <div class="backup-form grid-layout grid-col-2">
                <button id="saveBackupBtn" onclick="saveBackup()">ğŸ’¾ Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</button>
                <div class="file-input-container">
                    <label for="restoreBackupInput" class="file-input-label">ğŸ“‚ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…Ù† Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</label>
                    <input type="file" id="restoreBackupInput" class="file-input" accept=".json" onchange="restoreBackup(event)">
                </div>
            </div>
            <div id="backupStatus" class="backup-status"></div>
        </div>

        <!-- PDF Settings Panel -->
        <div class="section-panel pdf-settings">
            <div class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9.5 8.5h3v-1h-2v-1h2V8h-3V7h3.5c.55 0 1 .45 1 1v1.5c0 .55-.45 1-1 1h-2v1h2c.55 0 1 .45 1 1V14c0 .55-.45 1-1 1h-3.5v-1h3v-1.5h-3v-1zm-4-2.5h1v-1H4.5V7h2c.55 0 1 .45 1 1v1.5c0 .55-.45 1-1 1h-1V12h2v1H4.5v-4zm16 4h-1.75l-1.75-2.25V15H15V7h1.5v2.25L18.25 7H20l-2.25 3L20 13z"></path></svg>
                Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØµØ¯ÙŠØ± PDF
            </div>
            <div class="pdf-form grid-layout grid-col-3">
                <div>
                    <label for="companyName">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©:</label>
                    <input type="text" id="companyName" placeholder="Ø§Ø³Ù… Ø´Ø±ÙƒØªÙƒ Ù„Ù„ØªÙ‚Ø±ÙŠØ±">
                </div>
                <div>
                    <label for="headerColor">Ù„ÙˆÙ† Ø§Ù„ØªØ±ÙˆÙŠØ³Ø©:</label>
                    <input type="color" id="headerColor" value="#667eea">
                </div>
                <div>
                    <label for="accentColor">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ù…ÙŠØ²:</label>
                    <input type="color" id="accentColor" value="#764ba2">
                </div>
            </div>
        </div>

        <!-- Budget Tracking Panel -->
        <div class="section-panel budget-panel">
            <div class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"></path></svg>
                ØªØªØ¨Ø¹ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©
            </div>
            <div class="budget-form grid-layout grid-col-2">
                <div>
                    <label for="monthlyBudget">Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© (Ø±ÙŠØ§Ù„):</label>
                    <input type="number" id="monthlyBudget" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ø´Ù‡Ø±" min="0" step="0.01" onchange="updateBudgetTracker()">
                </div>
                <div>
                    <label for="monthSelector">Ø§Ø®ØªØ± Ø§Ù„Ø´Ù‡Ø±:</label>
                    <input type="month" id="monthSelector" onchange="filterByMonth()">
                </div>
            </div>
            <div class="budget-tracker">
                <div class="budget-info">
                    <span>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ù†ÙÙ‚: <span id="spentAmount">0.00</span> Ø±ÙŠØ§Ù„</span>
                    <span>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="remainingAmount">0.00</span> Ø±ÙŠØ§Ù„</span>
                </div>
                <div class="budget-bar">
                    <div class="budget-progress" id="budgetProgress" style="width: 0%;"></div>
                </div>
            </div>
        </div>

        <!-- Filters Panel -->
        <div class="section-panel filters-panel">
            <div class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg>
                Ø§Ù„ÙÙ„Ø§ØªØ±
            </div>
            <div class="filters-form grid-layout grid-col-3">
                <div>
                    <label for="dateFromFilter">Ù…Ù† ØªØ§Ø±ÙŠØ®:</label>
                    <input type="date" id="dateFromFilter">
                </div>
                <div>
                    <label for="dateToFilter">Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®:</label>
                    <input type="date" id="dateToFilter">
                </div>
                <div>
                    <label for="statusFilter">Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©:</label>
                    <select id="statusFilter">
                        <option value="all">Ø§Ù„ÙƒÙ„</option>
                        <option value="active">Ù†Ø´Ø·Ø©</option>
                        <option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option>
                        <option value="completed">Ù…ÙƒØªÙ…Ù„Ø©</option>
                        <option value="cancelled">Ù…Ù„ØºØ§Ø©</option>
                    </select>
                </div>
                <div>
                    <label for="paymentStatusFilter">Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹:</label>
                    <select id="paymentStatusFilter">
                        <option value="all">Ø§Ù„ÙƒÙ„</option>
                        <option value="paid">Ù…Ø¯ÙÙˆØ¹</option>
                        <option value="unpaid">ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹</option>
                    </select>
                </div>
                <div>
                    <label for="publishStatusFilter">Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±:</label>
                    <select id="publishStatusFilter">
                        <option value="all">Ø§Ù„ÙƒÙ„</option>
                        <option value="published">Ù…Ù†Ø´ÙˆØ±</option>
                        <option value="not-published">ØºÙŠØ± Ù…Ù†Ø´ÙˆØ±</option>
                    </select>
                </div>
                <div>
                    <label for="platformFilter">Ø§Ù„Ù…Ù†ØµØ©:</label>
                    <select id="platformFilter">
                        <option value="all">Ø§Ù„ÙƒÙ„</option>
                        <option value="instagram">Ø§Ù†Ø³ØªØºØ±Ø§Ù…</option>
                        <option value="tiktok">ØªÙŠÙƒ ØªÙˆÙƒ</option>
                        <option value="snapchat">Ø³Ù†Ø§Ø¨ Ø´Ø§Øª</option>
                        <option value="twitter">ØªÙˆÙŠØªØ±</option>
                        <option value="youtube">ÙŠÙˆØªÙŠÙˆØ¨</option>
                        <option value="facebook">ÙÙŠØ³Ø¨ÙˆÙƒ</option>
                    </select>
                </div>
            </div>
            <div class="form-buttons">
                <button id="applyFiltersBtn" onclick="applyFilters()">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ±</button>
                <button id="resetFiltersBtn" onclick="resetFilters()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±</button>
            </div>
        </div>

        <!-- Add Influencer Form -->
        <div class="section-panel add-influencer-form">
            <div class="section-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>
                Ø¥Ø¶Ø§ÙØ© Ø­Ù…Ù„Ø© Ù…Ø¤Ø«Ø± Ø¬Ø¯ÙŠØ¯Ø©
            </div>
            <div class="form-grid grid-layout grid-col-3">
                <div>
                    <label for="influencerName">Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø«Ø±:</label>
                    <input type="text" id="influencerName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø«Ø±">
                </div>
                <div>
                    <label for="influencerAccount">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø«Ø±:</label>
                    <input type="text" id="influencerAccount" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ù…Ø¤Ø«Ø±">
                </div>
                <div>
                    <label for="influencerPhone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
                    <input type="tel" id="influencerPhone" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø¤Ø«Ø±">
                </div>
                <div>
                    <label for="influencerCity">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</label>
                    <input type="text" id="influencerCity" placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ø¤Ø«Ø±">
                </div>
                <div>
                    <label for="platform">Ø§Ù„Ù…Ù†ØµØ©:</label>
                    <select id="platform">
                        <option value="instagram">Ø§Ù†Ø³ØªØºØ±Ø§Ù…</option>
                        <option value="tiktok">ØªÙŠÙƒ ØªÙˆÙƒ</option>
                        <option value="snapchat">Ø³Ù†Ø§Ø¨ Ø´Ø§Øª</option>
                        <option value="twitter">ØªÙˆÙŠØªØ±</option>
                        <option value="youtube">ÙŠÙˆØªÙŠÙˆØ¨</option>
                        <option value="facebook">ÙÙŠØ³Ø¨ÙˆÙƒ</option>
                    </select>
                </div>
                <div>
                    <label for="expectedDate">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</label>
                    <input type="date" id="expectedDate">
                </div>
                <div>
                    <label for="amount">Ø§Ù„Ù…Ø¨Ù„Øº (Ø±ÙŠØ§Ù„):</label>
                    <input type="number" id="amount" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº" min="0" step="0.01">
                </div>
                <div>
                    <label for="campaignStatus">Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©:</label>
                    <select id="campaignStatus">
                        <option value="active">Ù†Ø´Ø·Ø©</option>
                        <option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option>
                        <option value="completed">Ù…ÙƒØªÙ…Ù„Ø©</option>
                        <option value="cancelled">Ù…Ù„ØºØ§Ø©</option>
                    </select>
                </div>
                <div>
                    <label for="paymentStatus">Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹:</label>
                    <select id="paymentStatus">
                        <option value="unpaid">ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹</option>
                        <option value="paid">Ù…Ø¯ÙÙˆØ¹</option>
                    </select>
                </div>
                <div>
                    <label for="paymentDate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹:</label>
                    <input type="date" id="paymentDate">
                </div>
                <div>
                    <label for="publishStatus">Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±:</label>
                    <select id="publishStatus">
                        <option value="not-published">ØºÙŠØ± Ù…Ù†Ø´ÙˆØ±</option>
                        <option value="published">Ù…Ù†Ø´ÙˆØ±</option>
                    </select>
                </div>
                <div>
                    <label for="publishLink">Ø±Ø§Ø¨Ø· Ø§Ù„Ù†Ø´Ø±:</label>
                    <input type="url" id="publishLink" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ±">
                </div>
                <div>
                    <label for="adType">Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†:</label>
                    <select id="adType">
                        <option value="standard">Ø¥Ø¹Ù„Ø§Ù† Ø¹Ø§Ø¯ÙŠ</option>
                        <option value="reminder">Ø¥Ø¹Ù„Ø§Ù† ØªØ°ÙƒÙŠØ±ÙŠ</option>
                        <option value="impression">Ø¥Ø¹Ù„Ø§Ù† Ø§Ù†Ø·Ø¨Ø§Ø¹Ø§Øª</option>
                    </select>
                </div>
                <div>
                    <label for="adCount">Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª:</label>
                    <input type="number" id="adCount" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø·Ø· Ù„Ù‡Ø§" min="1" value="1">
                </div>
                <div>
                    <label for="followers">Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†:</label>
                    <input type="number" id="followers" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†" min="0">
                </div>
            </div>
            <div>
                <label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</label>
                <textarea id="notes" rows="3" placeholder="Ø£Ø¯Ø®Ù„ Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©"></textarea>
            </div>
            <div class="form-buttons">
                <button id="addInfluencerBtn" onclick="addInfluencer()">Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø«Ø±</button>
                <button id="updateInfluencerBtn" onclick="updateInfluencer()" style="display: none;">ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±</button>
                <button id="cancelEditBtn" onclick="cancelEdit()" style="display: none; background: linear-gradient(135deg, #95a5a6, #7f8c8d);">Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„</button>
            </div>
        </div>

        <hr>

        <!-- Campaigns List -->
        <h2>Ù‚Ø§Ø¦Ù…Ø© Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</h2>
        <div class="export-buttons">
            <button class="export-btn export-pdf-btn" onclick="exportToPDF()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"></path></svg>
                ØªØµØ¯ÙŠØ± PDF
            </button>
            <button class="export-btn export-csv-btn" onclick="exportToCSV()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></svg>
                ØªØµØ¯ÙŠØ± CSV
            </button>
        </div>
        <div class="campaigns-table-container">
            <table id="campaignsTable" class="campaign-table">
                <thead>
                    <tr>
                        <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø«Ø±</th>
                        <th>Ø§Ù„Ø­Ø³Ø§Ø¨</th>
                        <th>Ø§Ù„Ù‡Ø§ØªÙ</th>
                        <th>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</th>
                        <th>Ø§Ù„Ù…Ù†ØµØ©</th>
                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</th>
                        <th>Ø§Ù„Ù…Ø¨Ù„Øº (Ø±ÙŠØ§Ù„)</th>
                        <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©</th>
                        <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>
                        <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹</th>
                        <th>Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±</th>
                        <th>Ø±Ø§Ø¨Ø· Ø§Ù„Ù†Ø´Ø±</th>
                        <th>Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</th>
                        <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</th>
                        <th>Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th>
                        <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                    </tr>
                </thead>
                <tbody id="campaignsTableBody">
                    <!-- Campaigns will be added here dynamically -->
                </tbody>
            </table>
        </div>

        <!-- Summary Section -->
        <div class="summary-section">
            <h2>ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ù…Ù„Ø§Øª (Ø­Ø³Ø¨ Ø§Ù„ÙÙ„Ø§ØªØ± Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©)</h2>
            <div class="summary-grid">
                <div class="summary-card">
                    <h3 id="totalCampaigns">0</h3>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ù…Ù„Ø§Øª</p>
                </div>
                <div class="summary-card">
                    <h3 id="totalSpend">0.00 Ø±ÙŠØ§Ù„</h3>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚</p>
                </div>
                <div class="summary-card">
                    <h3 id="activeCampaigns">0</h3>
                    <p>Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</p>
                </div>
                <div class="summary-card">
                    <h3 id="completedCampaigns">0</h3>
                    <p>Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</p>
                </div>
                <div class="summary-card">
                    <h3 id="pendingCampaigns">0</h3>
                    <p>Ø§Ù„Ø­Ù…Ù„Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>
                </div>
                <div class="summary-card">
                    <h3 id="paidAmount">0.00 Ø±ÙŠØ§Ù„</h3>
                    <p>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹</p>
                </div>
                <div class="summary-card">
                    <h3 id="unpaidAmount">0.00 Ø±ÙŠØ§Ù„</h3>
                    <p>Ø§Ù„Ù…Ø¨Ù„Øº ØºÙŠØ± Ø§Ù„Ù…Ø¯ÙÙˆØ¹</p>
                </div>
                <div class="summary-card">
                    <h3 id="publishedContent">0</h3>
                    <p>Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ±</p>
                </div>
            </div>
        </div>

        <!-- Activity Log -->
        <div class="activity-log">
            <h3>Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·</h3>
            <div id="activityLog">
                <!-- Activity logs will be added here dynamically -->
            </div>
        </div>

        <!-- Hidden elements for PDF generation -->
        <div class="report-header-print">
            <div class="company-name-print" id="companyNamePrint">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</div>
            <div class="report-title-print">ØªÙ‚Ø±ÙŠØ± Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</div>
            <div class="report-date-range-print" id="reportDateRangePrint"></div>
        </div>

        <!-- Notification -->
        <div id="notification" class="notification"></div>
    </div>

    <script>
        // Global variables
        let campaigns = [];
        let editingIndex = -1;
        let currentUser = "Ù…Ø³ØªØ®Ø¯Ù…";
        let firebaseConnected = false;
        let firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            databaseURL: "YOUR_DATABASE_URL",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadFromLocalStorage();
            updateCampaignsTable();
            updateSummary();
            updateBudgetTracker();
            
            // Set current month as default
            const now = new Date();
            const year = now.getFullYear();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            document.getElementById('monthSelector').value = `${year}-${month}`;
        });

        // User Management
        function setUserName() {
            const userName = document.getElementById('userName').value.trim();
            if (userName) {
                currentUser = userName;
                document.getElementById('currentUserName').textContent = userName;
                document.getElementById('userInfo').style.display = 'block';
                showNotification(`ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userName}`);
                saveToLocalStorage();
            } else {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…', 'error');
            }
        }

        // Firebase Integration
        function connectToFirebase() {
            try {
                // Initialize Firebase
                if (!firebase.apps.length) {
                    firebase.initializeApp(firebaseConfig);
                }
                
                const dbRef = firebase.database().ref();
                dbRef.child('test').set({
                    timestamp: Date.now(),
                    message: 'Connection test'
                }).then(() => {
                    firebaseConnected = true;
                    document.getElementById('saveToFirebaseBtn').disabled = false;
                    document.getElementById('loadFromFirebaseBtn').disabled = false;
                    document.getElementById('firebaseStatus').textContent = 'ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø¬Ø§Ø­ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª';
                    document.getElementById('firebaseStatus').className = 'firebase-status success';
                    showNotification('ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                }).catch(error => {
                    throw error;
                });
            } catch (error) {
                document.getElementById('firebaseStatus').textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ' + error.message;
                document.getElementById('firebaseStatus').className = 'firebase-status error';
                showNotification('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
                console.error('Firebase connection error:', error);
            }
        }

        function saveToFirebase() {
            if (!firebaseConnected) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }

            try {
                const dbRef = firebase.database().ref();
                const data = {
                    campaigns: campaigns,
                    lastUpdated: Date.now(),
                    updatedBy: currentUser
                };
                
                dbRef.set(data).then(() => {
                    document.getElementById('firebaseStatus').textContent = 'ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª';
                    document.getElementById('firebaseStatus').className = 'firebase-status success';
                    showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­');
                    addActivityLog('Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©');
                }).catch(error => {
                    throw error;
                });
            } catch (error) {
                document.getElementById('firebaseStatus').textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ' + error.message;
                document.getElementById('firebaseStatus').className = 'firebase-status error';
                showNotification('ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©', 'error');
                console.error('Firebase save error:', error);
            }
        }

        function loadFromFirebase() {
            if (!firebaseConnected) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }

            try {
                const dbRef = firebase.database().ref();
                dbRef.once('value').then(snapshot => {
                    const data = snapshot.val();
                    if (data && data.campaigns) {
                        campaigns = data.campaigns;
                        updateCampaignsTable();
                        updateSummary();
                        updateBudgetTracker();
                        saveToLocalStorage();
                        
                        document.getElementById('firebaseStatus').textContent = 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª';
                        document.getElementById('firebaseStatus').className = 'firebase-status success';
                        showNotification('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­');
                        addActivityLog('ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©');
                    } else {
                        document.getElementById('firebaseStatus').textContent = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª';
                        document.getElementById('firebaseStatus').className = 'firebase-status info';
                        showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©', 'info');
                    }
                }).catch(error => {
                    throw error;
                });
            } catch (error) {
                document.getElementById('firebaseStatus').textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ' + error.message;
                document.getElementById('firebaseStatus').className = 'firebase-status error';
                showNotification('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©', 'error');
                console.error('Firebase load error:', error);
            }
        }

        // Local Backup
        function saveBackup() {
            try {
                const data = {
                    campaigns: campaigns,
                    lastUpdated: Date.now(),
                    updatedBy: currentUser
                };
                
                const dataStr = JSON.stringify(data, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const now = new Date();
                const dateStr = now.toISOString().split('T')[0];
                const fileName = `influencer_campaigns_backup_${dateStr}.json`;
                
                const downloadLink = document.createElement('a');
                downloadLink.href = URL.createObjectURL(dataBlob);
                downloadLink.download = fileName;
                downloadLink.click();
                
                showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­');
                addActivityLog('Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ø­Ù„ÙŠØ©');
            } catch (error) {
                showNotification('ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©', 'error');
                console.error('Backup save error:', error);
            }
        }

        function restoreBackup(event) {
            try {
                const file = event.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const data = JSON.parse(e.target.result);
                        if (data && data.campaigns) {
                            campaigns = data.campaigns;
                            updateCampaignsTable();
                            updateSummary();
                            updateBudgetTracker();
                            saveToLocalStorage();
                            
                            showNotification('ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­');
                            addActivityLog('Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…Ù† Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ø­Ù„ÙŠØ©');
                        } else {
                            throw new Error('ØªÙ†Ø³ÙŠÙ‚ Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­');
                        }
                    } catch (parseError) {
                        showNotification('ÙØ´Ù„ ØªØ­Ù„ÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©', 'error');
                        console.error('Backup parse error:', parseError);
                    }
                };
                reader.readAsText(file);
            } catch (error) {
                showNotification('ÙØ´Ù„ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©', 'error');
                console.error('Backup restore error:', error);
            }
        }

        // Local Storage
        function saveToLocalStorage() {
            try {
                const data = {
                    campaigns: campaigns,
                    currentUser: currentUser,
                    lastUpdated: Date.now()
                };
                localStorage.setItem('influencerTrackerData', JSON.stringify(data));
            } catch (error) {
                console.error('Local storage save error:', error);
            }
        }

        function loadFromLocalStorage() {
            try {
                const data = JSON.parse(localStorage.getItem('influencerTrackerData'));
                if (data) {
                    campaigns = data.campaigns || [];
                    if (data.currentUser) {
                        currentUser = data.currentUser;
                        document.getElementById('userName').value = currentUser;
                        document.getElementById('currentUserName').textContent = currentUser;
                        document.getElementById('userInfo').style.display = 'block';
                    }
                }
            } catch (error) {
                console.error('Local storage load error:', error);
                campaigns = [];
            }
        }

        // Campaign Management
        function addInfluencer() {
            // Get form values
            const influencerName = document.getElementById('influencerName').value.trim();
            const influencerAccount = document.getElementById('influencerAccount').value.trim();
            const influencerPhone = document.getElementById('influencerPhone').value.trim();
            const influencerCity = document.getElementById('influencerCity').value.trim();
            const platform = document.getElementById('platform').value;
            const expectedDate = document.getElementById('expectedDate').value;
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            const campaignStatus = document.getElementById('campaignStatus').value;
            const paymentStatus = document.getElementById('paymentStatus').value;
            const paymentDate = document.getElementById('paymentDate').value;
            const publishStatus = document.getElementById('publishStatus').value;
            const publishLink = document.getElementById('publishLink').value.trim();
            const adType = document.getElementById('adType').value;
            const adCount = parseInt(document.getElementById('adCount').value) || 1;
            const followers = parseInt(document.getElementById('followers').value) || 0;
            const notes = document.getElementById('notes').value.trim();

            // Validate required fields
            if (!influencerName) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø«Ø±', 'error');
                return;
            }

            if (!expectedDate) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØªÙˆÙ‚Ø¹', 'error');
                return;
            }

            if (amount <= 0) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­', 'error');
                return;
            }

            // Create campaign object
            const campaign = {
                influencerName,
                influencerAccount,
                influencerPhone,
                influencerCity,
                platform,
                expectedDate,
                amount,
                campaignStatus,
                paymentStatus,
                paymentDate,
                publishStatus,
                publishLink,
                adType,
                adCount,
                followers,
                notes,
                createdAt: new Date().toISOString(),
                createdBy: currentUser
            };

            // Add to campaigns array
            campaigns.push(campaign);
            
            // Update UI
            updateCampaignsTable();
            updateSummary();
            updateBudgetTracker();
            
            // Save data
            saveToLocalStorage();
            
            // Clear form
            clearForm();
            
            // Show notification
            showNotification('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø­Ù…Ù„Ø© Ø§Ù„Ù…Ø¤Ø«Ø± Ø¨Ù†Ø¬Ø§Ø­');
            
            // Add to activity log
            addActivityLog(`Ø¥Ø¶Ø§ÙØ© Ø­Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©: ${influencerName} (${platform})`);
        }

        function editInfluencer(index) {
            // Set editing index
            editingIndex = index;
            
            // Get campaign data
            const campaign = campaigns[index];
            
            // Fill form with campaign data
            document.getElementById('influencerName').value = campaign.influencerName || '';
            document.getElementById('influencerAccount').value = campaign.influencerAccount || '';
            document.getElementById('influencerPhone').value = campaign.influencerPhone || '';
            document.getElementById('influencerCity').value = campaign.influencerCity || '';
            document.getElementById('platform').value = campaign.platform || 'instagram';
            document.getElementById('expectedDate').value = campaign.expectedDate || '';
            document.getElementById('amount').value = campaign.amount || 0;
            document.getElementById('campaignStatus').value = campaign.campaignStatus || 'active';
            document.getElementById('paymentStatus').value = campaign.paymentStatus || 'unpaid';
            document.getElementById('paymentDate').value = campaign.paymentDate || '';
            document.getElementById('publishStatus').value = campaign.publishStatus || 'not-published';
            document.getElementById('publishLink').value = campaign.publishLink || '';
            document.getElementById('adType').value = campaign.adType || 'standard';
            document.getElementById('adCount').value = campaign.adCount || 1;
            document.getElementById('followers').value = campaign.followers || 0;
            document.getElementById('notes').value = campaign.notes || '';
            
            // Show update buttons, hide add button
            document.getElementById('addInfluencerBtn').style.display = 'none';
            document.getElementById('updateInfluencerBtn').style.display = 'inline-block';
            document.getElementById('cancelEditBtn').style.display = 'inline-block';
            
            // Scroll to form
            document.querySelector('.add-influencer-form').scrollIntoView({ behavior: 'smooth' });
        }

        function updateInfluencer() {
            if (editingIndex === -1) return;
            
            // Get form values
            const influencerName = document.getElementById('influencerName').value.trim();
            const influencerAccount = document.getElementById('influencerAccount').value.trim();
            const influencerPhone = document.getElementById('influencerPhone').value.trim();
            const influencerCity = document.getElementById('influencerCity').value.trim();
            const platform = document.getElementById('platform').value;
            const expectedDate = document.getElementById('expectedDate').value;
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            const campaignStatus = document.getElementById('campaignStatus').value;
            const paymentStatus = document.getElementById('paymentStatus').value;
            const paymentDate = document.getElementById('paymentDate').value;
            const publishStatus = document.getElementById('publishStatus').value;
            const publishLink = document.getElementById('publishLink').value.trim();
            const adType = document.getElementById('adType').value;
            const adCount = parseInt(document.getElementById('adCount').value) || 1;
            const followers = parseInt(document.getElementById('followers').value) || 0;
            const notes = document.getElementById('notes').value.trim();

            // Validate required fields
            if (!influencerName) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø«Ø±', 'error');
                return;
            }

            if (!expectedDate) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØªÙˆÙ‚Ø¹', 'error');
                return;
            }

            if (amount <= 0) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­', 'error');
                return;
            }

            // Update campaign object
            const campaign = campaigns[editingIndex];
            campaign.influencerName = influencerName;
            campaign.influencerAccount = influencerAccount;
            campaign.influencerPhone = influencerPhone;
            campaign.influencerCity = influencerCity;
            campaign.platform = platform;
            campaign.expectedDate = expectedDate;
            campaign.amount = amount;
            campaign.campaignStatus = campaignStatus;
            campaign.paymentStatus = paymentStatus;
            campaign.paymentDate = paymentDate;
            campaign.publishStatus = publishStatus;
            campaign.publishLink = publishLink;
            campaign.adType = adType;
            campaign.adCount = adCount;
            campaign.followers = followers;
            campaign.notes = notes;
            campaign.updatedAt = new Date().toISOString();
            campaign.updatedBy = currentUser;
            
            // Update UI
            updateCampaignsTable();
            updateSummary();
            updateBudgetTracker();
            
            // Save data
            saveToLocalStorage();
            
            // Clear form and reset editing state
            clearForm();
            editingIndex = -1;
            
            // Show update buttons, hide add button
            document.getElementById('addInfluencerBtn').style.display = 'inline-block';
            document.getElementById('updateInfluencerBtn').style.display = 'none';
            document.getElementById('cancelEditBtn').style.display = 'none';
            
            // Show notification
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø± Ø¨Ù†Ø¬Ø§Ø­');
            
            // Add to activity log
            addActivityLog(`ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù…Ù„Ø©: ${influencerName} (${platform})`);
        }

        function deleteInfluencer(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø­Ù…Ù„Ø©ØŸ')) {
                const campaign = campaigns[index];
                const campaignInfo = `${campaign.influencerName} (${getPlatformName(campaign.platform)})`;
                
                // Remove campaign
                campaigns.splice(index, 1);
                
                // Update UI
                updateCampaignsTable();
                updateSummary();
                updateBudgetTracker();
                
                // Save data
                saveToLocalStorage();
                
                // Show notification
                showNotification('ØªÙ… Ø­Ø°Ù Ø­Ù…Ù„Ø© Ø§Ù„Ù…Ø¤Ø«Ø± Ø¨Ù†Ø¬Ø§Ø­');
                
                // Add to activity log
                addActivityLog(`Ø­Ø°Ù Ø­Ù…Ù„Ø©: ${campaignInfo}`);
                
                // Reset editing state if deleting the campaign being edited
                if (editingIndex === index) {
                    clearForm();
                    editingIndex = -1;
                    document.getElementById('addInfluencerBtn').style.display = 'inline-block';
                    document.getElementById('updateInfluencerBtn').style.display = 'none';
                    document.getElementById('cancelEditBtn').style.display = 'none';
                }
            }
        }

        function cancelEdit() {
            clearForm();
            editingIndex = -1;
            document.getElementById('addInfluencerBtn').style.display = 'inline-block';
            document.getElementById('updateInfluencerBtn').style.display = 'none';
            document.getElementById('cancelEditBtn').style.display = 'none';
        }

        function clearForm() {
            document.getElementById('influencerName').value = '';
            document.getElementById('influencerAccount').value = '';
            document.getElementById('influencerPhone').value = '';
            document.getElementById('influencerCity').value = '';
            document.getElementById('platform').value = 'instagram';
            document.getElementById('expectedDate').value = '';
            document.getElementById('amount').value = '';
            document.getElementById('campaignStatus').value = 'active';
            document.getElementById('paymentStatus').value = 'unpaid';
            document.getElementById('paymentDate').value = '';
            document.getElementById('publishStatus').value = 'not-published';
            document.getElementById('publishLink').value = '';
            document.getElementById('adType').value = 'standard';
            document.getElementById('adCount').value = '1';
            document.getElementById('followers').value = '';
            document.getElementById('notes').value = '';
        }

        // UI Updates
        function updateCampaignsTable() {
            const tableBody = document.getElementById('campaignsTableBody');
            tableBody.innerHTML = '';
            
            // Get filtered campaigns
            const filteredCampaigns = getFilteredCampaigns();
            
            if (filteredCampaigns.length === 0) {
                const row = document.createElement('tr');
                const cell = document.createElement('td');
                cell.colSpan = 16;
                cell.textContent = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù…Ù„Ø§Øª Ù…Ø¤Ø«Ø±ÙŠÙ†';
                cell.style.textAlign = 'center';
                row.appendChild(cell);
                tableBody.appendChild(row);
                return;
            }
            
            filteredCampaigns.forEach((campaign, index) => {
                const row = document.createElement('tr');
                
                // Influencer Name
                const nameCell = document.createElement('td');
                nameCell.textContent = campaign.influencerName;
                row.appendChild(nameCell);
                
                // Influencer Account
                const accountCell = document.createElement('td');
                accountCell.textContent = campaign.influencerAccount || '-';
                row.appendChild(accountCell);
                
                // Influencer Phone
                const phoneCell = document.createElement('td');
                phoneCell.textContent = campaign.influencerPhone || '-';
                row.appendChild(phoneCell);
                
                // Influencer City
                const cityCell = document.createElement('td');
                cityCell.textContent = campaign.influencerCity || '-';
                row.appendChild(cityCell);
                
                // Platform
                const platformCell = document.createElement('td');
                platformCell.textContent = getPlatformName(campaign.platform);
                row.appendChild(platformCell);
                
                // Expected Date
                const dateCell = document.createElement('td');
                dateCell.textContent = formatDate(campaign.expectedDate);
                row.appendChild(dateCell);
                
                // Amount
                const amountCell = document.createElement('td');
                amountCell.textContent = formatCurrency(campaign.amount);
                row.appendChild(amountCell);
                
                // Campaign Status
                const statusCell = document.createElement('td');
                const statusBadge = document.createElement('span');
                statusBadge.className = `status-badge status-${campaign.campaignStatus}`;
                statusBadge.textContent = getCampaignStatusName(campaign.campaignStatus);
                statusCell.appendChild(statusBadge);
                row.appendChild(statusCell);
                
                // Payment Status
                const paymentStatusCell = document.createElement('td');
                paymentStatusCell.className = `payment-status-${campaign.paymentStatus}`;
                paymentStatusCell.textContent = getPaymentStatusName(campaign.paymentStatus);
                row.appendChild(paymentStatusCell);
                
                // Payment Date
                const paymentDateCell = document.createElement('td');
                paymentDateCell.textContent = campaign.paymentDate ? formatDate(campaign.paymentDate) : '-';
                row.appendChild(paymentDateCell);
                
                // Publish Status
                const publishStatusCell = document.createElement('td');
                const publishStatusBadge = document.createElement('span');
                publishStatusBadge.className = `status-badge status-${campaign.publishStatus}`;
                publishStatusBadge.textContent = getPublishStatusName(campaign.publishStatus);
                publishStatusCell.appendChild(publishStatusBadge);
                row.appendChild(publishStatusCell);
                
                // Publish Link
                const publishLinkCell = document.createElement('td');
                if (campaign.publishLink) {
                    const link = document.createElement('a');
                    link.href = campaign.publishLink;
                    link.target = '_blank';
                    link.textContent = 'Ø¹Ø±Ø¶';
                    publishLinkCell.appendChild(link);
                } else {
                    publishLinkCell.textContent = '-';
                }
                row.appendChild(publishLinkCell);
                
                // Ad Type
                const adTypeCell = document.createElement('td');
                adTypeCell.textContent = getAdTypeName(campaign.adType);
                row.appendChild(adTypeCell);
                
                // Ad Count
                const adCountCell = document.createElement('td');
                adCountCell.textContent = campaign.adCount || '1';
                row.appendChild(adCountCell);
                
                // Notes
                const notesCell = document.createElement('td');
                notesCell.textContent = campaign.notes || '-';
                row.appendChild(notesCell);
                
                // Actions
                const actionsCell = document.createElement('td');
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'action-buttons';
                
                const editBtn = document.createElement('button');
                editBtn.className = 'edit-btn';
                editBtn.textContent = 'ØªØ¹Ø¯ÙŠÙ„';
                editBtn.onclick = function() { editInfluencer(campaigns.indexOf(campaign)); };
                actionsDiv.appendChild(editBtn);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.textContent = 'Ø­Ø°Ù';
                deleteBtn.onclick = function() { deleteInfluencer(campaigns.indexOf(campaign)); };
                actionsDiv.appendChild(deleteBtn);
                
                actionsCell.appendChild(actionsDiv);
                row.appendChild(actionsCell);
                
                tableBody.appendChild(row);
            });
        }

        function updateSummary() {
            const filteredCampaigns = getFilteredCampaigns();
            
            // Total campaigns
            document.getElementById('totalCampaigns').textContent = filteredCampaigns.length;
            
            // Total spend
            const totalSpend = filteredCampaigns.reduce((sum, campaign) => sum + (campaign.amount || 0), 0);
            document.getElementById('totalSpend').textContent = formatCurrency(totalSpend);
            
            // Active campaigns
            const activeCampaigns = filteredCampaigns.filter(campaign => campaign.campaignStatus === 'active').length;
            document.getElementById('activeCampaigns').textContent = activeCampaigns;
            
            // Completed campaigns
            const completedCampaigns = filteredCampaigns.filter(campaign => campaign.campaignStatus === 'completed').length;
            document.getElementById('completedCampaigns').textContent = completedCampaigns;
            
            // Pending campaigns
            const pendingCampaigns = filteredCampaigns.filter(campaign => campaign.campaignStatus === 'pending').length;
            document.getElementById('pendingCampaigns').textContent = pendingCampaigns;
            
            // Paid amount
            const paidAmount = filteredCampaigns
                .filter(campaign => campaign.paymentStatus === 'paid')
                .reduce((sum, campaign) => sum + (campaign.amount || 0), 0);
            document.getElementById('paidAmount').textContent = formatCurrency(paidAmount);
            
            // Unpaid amount
            const unpaidAmount = filteredCampaigns
                .filter(campaign => campaign.paymentStatus === 'unpaid')
                .reduce((sum, campaign) => sum + (campaign.amount || 0), 0);
            document.getElementById('unpaidAmount').textContent = formatCurrency(unpaidAmount);
            
            // Published content
            const publishedContent = filteredCampaigns.filter(campaign => campaign.publishStatus === 'published').length;
            document.getElementById('publishedContent').textContent = publishedContent;
        }

        function updateBudgetTracker() {
            const monthlyBudget = parseFloat(document.getElementById('monthlyBudget').value) || 0;
            const selectedMonth = document.getElementById('monthSelector').value;
            
            if (monthlyBudget <= 0 || !selectedMonth) {
                document.getElementById('spentAmount').textContent = '0.00';
                document.getElementById('remainingAmount').textContent = '0.00';
                document.getElementById('budgetProgress').style.width = '0%';
                return;
            }
            
            // Get year and month from selected month
            const [year, month] = selectedMonth.split('-');
            
            // Filter campaigns for selected month
            const monthCampaigns = campaigns.filter(campaign => {
                if (!campaign.expectedDate) return false;
                const campaignDate = new Date(campaign.expectedDate);
                return campaignDate.getFullYear() === parseInt(year) && 
                       campaignDate.getMonth() + 1 === parseInt(month);
            });
            
            // Calculate spent amount
            const spentAmount = monthCampaigns.reduce((sum, campaign) => sum + (campaign.amount || 0), 0);
            
            // Calculate remaining amount
            const remainingAmount = Math.max(0, monthlyBudget - spentAmount);
            
            // Calculate progress percentage
            const progressPercentage = Math.min(100, (spentAmount / monthlyBudget) * 100);
            
            // Update UI
            document.getElementById('spentAmount').textContent = formatNumber(spentAmount);
            document.getElementById('remainingAmount').textContent = formatNumber(remainingAmount);
            document.getElementById('budgetProgress').style.width = `${progressPercentage}%`;
            
            // Change color based on percentage
            if (progressPercentage >= 90) {
                document.getElementById('budgetProgress').style.backgroundColor = '#e74c3c';
            } else if (progressPercentage >= 75) {
                document.getElementById('budgetProgress').style.backgroundColor = '#f39c12';
            } else {
                document.getElementById('budgetProgress').style.backgroundColor = '#667eea';
            }
        }

        // Filtering
        function getFilteredCampaigns() {
            // Get filter values
            const dateFrom = document.getElementById('dateFromFilter').value;
            const dateTo = document.getElementById('dateToFilter').value;
            const status = document.getElementById('statusFilter').value;
            const paymentStatus = document.getElementById('paymentStatusFilter').value;
            const publishStatus = document.getElementById('publishStatusFilter').value;
            const platform = document.getElementById('platformFilter').value;
            
            // Filter campaigns
            return campaigns.filter(campaign => {
                // Date filter
                if (dateFrom && campaign.expectedDate < dateFrom) return false;
                if (dateTo && campaign.expectedDate > dateTo) return false;
                
                // Status filter
                if (status !== 'all' && campaign.campaignStatus !== status) return false;
                
                // Payment status filter
                if (paymentStatus !== 'all' && campaign.paymentStatus !== paymentStatus) return false;
                
                // Publish status filter
                if (publishStatus !== 'all' && campaign.publishStatus !== publishStatus) return false;
                
                // Platform filter
                if (platform !== 'all' && campaign.platform !== platform) return false;
                
                return true;
            });
        }

        function applyFilters() {
            updateCampaignsTable();
            updateSummary();
            showNotification('ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ±');
        }

        function resetFilters() {
            document.getElementById('dateFromFilter').value = '';
            document.getElementById('dateToFilter').value = '';
            document.getElementById('statusFilter').value = 'all';
            document.getElementById('paymentStatusFilter').value = 'all';
            document.getElementById('publishStatusFilter').value = 'all';
            document.getElementById('platformFilter').value = 'all';
            
            updateCampaignsTable();
            updateSummary();
            showNotification('ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ„Ø§ØªØ±');
        }

        function filterByMonth() {
            updateBudgetTracker();
        }

        // Export Functions
        function exportToPDF() {
            try {
                // Create a print-friendly container
                const printContainer = document.createElement('div');
                printContainer.className = 'print-container';
                
                // Get company name and colors
                const companyName = document.getElementById('companyName').value.trim() || 'Ø´Ø±ÙƒØªÙŠ';
                const headerColor = document.getElementById('headerColor').value || '#667eea';
                const accentColor = document.getElementById('accentColor').value || '#764ba2';
                
                // Create report content
                const reportContent = document.createElement('div');
                reportContent.className = 'report-content';
                
                // Create report header
                const reportHeader = document.createElement('div');
                reportHeader.className = 'report-header';
                reportHeader.style.backgroundColor = headerColor;
                reportHeader.innerHTML = `
                    <h1>${companyName}</h1>
                    <h2>ØªÙ‚Ø±ÙŠØ± Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</h2>
                `;
                
                // Create executive summary
                const executiveSummary = document.createElement('div');
                executiveSummary.className = 'executive-summary';
                
                // Get filtered campaigns
                const filteredCampaigns = getFilteredCampaigns();
                
                // Calculate summary data
                const totalCampaigns = filteredCampaigns.length;
                const totalSpend = filteredCampaigns.reduce((sum, campaign) => sum + (campaign.amount || 0), 0);
                const activeCampaigns = filteredCampaigns.filter(campaign => campaign.campaignStatus === 'active').length;
                const completedCampaigns = filteredCampaigns.filter(campaign => campaign.campaignStatus === 'completed').length;
                const pendingCampaigns = filteredCampaigns.filter(campaign => campaign.campaignStatus === 'pending').length;
                const paidAmount = filteredCampaigns
                    .filter(campaign => campaign.paymentStatus === 'paid')
                    .reduce((sum, campaign) => sum + (campaign.amount || 0), 0);
                const unpaidAmount = filteredCampaigns
                    .filter(campaign => campaign.paymentStatus === 'unpaid')
                    .reduce((sum, campaign) => sum + (campaign.amount || 0), 0);
                const publishedContent = filteredCampaigns.filter(campaign => campaign.publishStatus === 'published').length;
                
                // Create summary boxes
                executiveSummary.innerHTML = `
                    <h3>Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ù…Ù„Ø§Øª</h3>
                    <div class="summary-grid">
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${totalCampaigns}</div>
                            <div class="summary-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ù…Ù„Ø§Øª</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${formatCurrency(totalSpend)}</div>
                            <div class="summary-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ù†ÙØ§Ù‚</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${activeCampaigns}</div>
                            <div class="summary-label">Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${completedCampaigns}</div>
                            <div class="summary-label">Ø§Ù„Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${pendingCampaigns}</div>
                            <div class="summary-label">Ø§Ù„Ø­Ù…Ù„Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${formatCurrency(paidAmount)}</div>
                            <div class="summary-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${formatCurrency(unpaidAmount)}</div>
                            <div class="summary-label">Ø§Ù„Ù…Ø¨Ù„Øº ØºÙŠØ± Ø§Ù„Ù…Ø¯ÙÙˆØ¹</div>
                        </div>
                        <div class="summary-box">
                            <div class="summary-value" style="color: ${accentColor}">${publishedContent}</div>
                            <div class="summary-label">Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ±</div>
                        </div>
                    </div>
                `;
                
                // Create campaigns table
                const campaignsTable = document.createElement('div');
                campaignsTable.className = 'campaigns-table-container';
                campaignsTable.innerHTML = `<h3>Ù‚Ø§Ø¦Ù…Ø© Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</h3>`;
                
                if (filteredCampaigns.length > 0) {
                    const table = document.createElement('table');
                    table.className = 'campaigns-table';
                    
                    // Create table header
                    const tableHeader = document.createElement('thead');
                    tableHeader.innerHTML = `
                        <tr>
                            <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø«Ø±</th>
                            <th>Ø§Ù„Ù…Ù†ØµØ©</th>
                            <th>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</th>
                            <th>Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</th>
                            <th>Ø§Ù„Ù…Ø¨Ù„Øº (Ø±ÙŠØ§Ù„)</th>
                            <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©</th>
                            <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>
                            <th>Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±</th>
                            <th>Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</th>
                            <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</th>
                        </tr>
                    `;
                    table.appendChild(tableHeader);
                    
                    // Create table body
                    const tableBody = document.createElement('tbody');
                    
                    // Sort campaigns by expected date (newest first)
                    const sortedCampaigns = [...filteredCampaigns].sort((a, b) => {
                        return new Date(b.expectedDate) - new Date(a.expectedDate);
                    });
                    
                    sortedCampaigns.forEach(campaign => {
                        // Get status classes
                        let campaignStatusClass = '';
                        switch (campaign.campaignStatus) {
                            case 'active':
                                campaignStatusClass = 'status-active';
                                break;
                            case 'pending':
                                campaignStatusClass = 'status-pending';
                                break;
                            case 'completed':
                                campaignStatusClass = 'status-completed';
                                break;
                            case 'cancelled':
                                campaignStatusClass = 'status-cancelled';
                                break;
                        }
                        
                        let paymentStatusClass = '';
                        switch (campaign.paymentStatus) {
                            case 'paid':
                                paymentStatusClass = 'status-completed';
                                break;
                            case 'unpaid':
                                paymentStatusClass = 'status-pending';
                                break;
                        }
                        
                        let publishStatusClass = '';
                        switch (campaign.publishStatus) {
                            case 'published':
                                publishStatusClass = 'status-completed';
                                break;
                            case 'not-published':
                                publishStatusClass = 'status-pending';
                                break;
                        }
                        
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${campaign.influencerName}</td>
                            <td>${getPlatformName(campaign.platform)}</td>
                            <td>${campaign.influencerCity || '-'}</td>
                            <td>${formatDate(campaign.expectedDate)}</td>
                            <td>${formatCurrency(campaign.amount)}</td>
                            <td><span class="status-badge ${campaignStatusClass}">${getCampaignStatusName(campaign.campaignStatus)}</span></td>
                            <td><span class="status-badge ${paymentStatusClass}">${getPaymentStatusName(campaign.paymentStatus)}</span></td>
                            <td><span class="status-badge ${publishStatusClass}">${getPublishStatusName(campaign.publishStatus)}</span></td>
                            <td>${getAdTypeName(campaign.adType)}</td>
                            <td>${campaign.adCount || '1'}</td>
                        `;
                        
                        tableBody.appendChild(row);
                    });
                    
                    table.appendChild(tableBody);
                    campaignsTable.appendChild(table);
                } else {
                    campaignsTable.innerHTML += `<p class="no-data">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù…Ù„Ø§Øª Ù…Ø¤Ø«Ø±ÙŠÙ† Ù…Ø¶Ø§ÙØ© Ø¨Ø¹Ø¯</p>`;
                }
                
                // Create report footer
                const reportFooter = document.createElement('div');
                reportFooter.className = 'report-footer';
                reportFooter.innerHTML = `ØªÙ‚Ø±ÙŠØ± Ø­Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† â€¢ ${companyName} â€¢ ${new Date().getFullYear()}`;
                
                // Add all elements to report content
                reportContent.appendChild(reportHeader);
                reportContent.appendChild(executiveSummary);
                reportContent.appendChild(campaignsTable);
                reportContent.appendChild(reportFooter);
                
                // Add print styles
                const printStyles = document.createElement('style');
                printStyles.innerHTML = `
                    @media print {
                        body * {
                            visibility: hidden;
                        }
                        .print-container, .print-container * {
                            visibility: visible;
                        }
                        .print-container {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 100%;
                        }
                        
                        .report-content {
                            font-family: Arial, sans-serif;
                            direction: rtl;
                            padding: 0;
                            margin: 0;
                        }
                        
                        .report-header {
                            background-color: ${headerColor} !important;
                            color: white;
                            padding: 20px;
                            text-align: center;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .report-header h1 {
                            margin: 0;
                            font-size: 24px;
                            color: white !important;
                        }
                        
                        .report-header h2 {
                            margin: 5px 0 0 0;
                            font-size: 18px;
                            font-weight: normal;
                            color: white !important;
                        }
                        
                        .executive-summary h3, .campaigns-table-container h3 {
                            margin: 20px 0 10px 0;
                            font-size: 18px;
                            color: #333;
                        }
                        
                        .summary-grid {
                            display: grid;
                            grid-template-columns: repeat(4, 1fr);
                            gap: 15px;
                            margin: 15px 0;
                        }
                        
                        .summary-box {
                            background-color: #f5f5f5;
                            border-radius: 5px;
                            padding: 15px;
                            text-align: center;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .summary-value {
                            font-size: 20px;
                            font-weight: bold;
                            color: ${accentColor} !important;
                            margin-bottom: 5px;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .summary-label {
                            font-size: 14px;
                            color: #666;
                        }
                        
                        .campaigns-table {
                            width: 100%;
                            border-collapse: collapse;
                            margin: 15px 0;
                        }
                        
                        .campaigns-table th {
                            background-color: ${headerColor} !important;
                            color: white !important;
                            padding: 10px;
                            text-align: right;
                            font-weight: bold;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .campaigns-table td {
                            padding: 8px 10px;
                            border-bottom: 1px solid #ddd;
                            text-align: right;
                        }
                        
                        .campaigns-table tr:nth-child(even) {
                            background-color: #f9f9f9;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .status-badge {
                            display: inline-block;
                            padding: 3px 8px;
                            border-radius: 12px;
                            font-size: 12px;
                            font-weight: bold;
                            text-align: center;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        
                        .status-active {
                            background-color: #4caf50 !important;
                            color: white !important;
                        }
                        
                        .status-pending {
                            background-color: #ff9800 !important;
                            color: white !important;
                        }
                        
                        .status-completed {
                            background-color: #2196f3 !important;
                            color: white !important;
                        }
                        
                        .status-cancelled {
                            background-color: #f44336 !important;
                            color: white !important;
                        }
                        
                        .no-data {
                            text-align: center;
                            font-style: italic;
                            color: #666;
                            margin: 20px 0;
                        }
                        
                        .report-footer {
                            margin-top: 30px;
                            text-align: center;
                            font-size: 12px;
                            color: #666;
                            padding: 10px;
                            border-top: 1px solid #ddd;
                        }
                    }
                `;
                
                // Add elements to the document
                printContainer.appendChild(reportContent);
                printContainer.appendChild(printStyles);
                document.body.appendChild(printContainer);
                
                // Trigger print dialog
                window.print();
                
                // Remove print container after printing
                setTimeout(() => {
                    document.body.removeChild(printContainer);
                }, 1000);
                
                showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ Ø¨ØµÙŠØºØ© PDF');
                addActivityLog('ØªØµØ¯ÙŠØ± ØªÙ‚Ø±ÙŠØ± PDF');
            } catch (error) {
                showNotification('ÙØ´Ù„ ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ±', 'error');
                console.error('PDF export error:', error);
            }
        }

        function exportToCSV() {
            try {
                // Get filtered campaigns
                const filteredCampaigns = getFilteredCampaigns();
                
                // Define CSV headers
                const headers = [
                    'Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø«Ø±',
                    'Ø§Ù„Ø­Ø³Ø§Ø¨',
                    'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ',
                    'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©',
                    'Ø§Ù„Ù…Ù†ØµØ©',
                    'Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØªÙˆÙ‚Ø¹',
                    'Ø§Ù„Ù…Ø¨Ù„Øº (Ø±ÙŠØ§Ù„)',
                    'Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ù…Ù„Ø©',
                    'Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹',
                    'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹',
                    'Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±',
                    'Ø±Ø§Ø¨Ø· Ø§Ù„Ù†Ø´Ø±',
                    'Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†',
                    'Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª',
                    'Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†',
                    'Ù…Ù„Ø§Ø­Ø¸Ø§Øª'
                ];
                
                // Prepare CSV data
                const csvData = filteredCampaigns.map(campaign => [
                    campaign.influencerName,
                    campaign.influencerAccount || '',
                    campaign.influencerPhone || '',
                    campaign.influencerCity || '',
                    getPlatformName(campaign.platform),
                    formatDate(campaign.expectedDate),
                    campaign.amount || 0,
                    getCampaignStatusName(campaign.campaignStatus),
                    getPaymentStatusName(campaign.paymentStatus),
                    campaign.paymentDate ? formatDate(campaign.paymentDate) : '',
                    getPublishStatusName(campaign.publishStatus),
                    campaign.publishLink || '',
                    getAdTypeName(campaign.adType),
                    campaign.adCount || 1,
                    campaign.followers || 0,
                    campaign.notes || ''
                ]);
                
                // Add headers to CSV data
                csvData.unshift(headers);
                
                // Convert to CSV string
                let csvContent = '\uFEFF'; // Add BOM for proper UTF-8 encoding
                csvData.forEach(row => {
                    csvContent += row.map(cell => `"${cell}"`).join(',') + '\n';
                });
                
                // Create download link
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.setAttribute('href', url);
                link.setAttribute('download', `Ø­Ù…Ù„Ø§Øª_Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†_${new Date().toISOString().split('T')[0]}.csv`);
                link.style.visibility = 'hidden';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ Ø¨ØµÙŠØºØ© CSV');
                addActivityLog('ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª CSV');
            } catch (error) {
                showNotification('ÙØ´Ù„ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', 'error');
                console.error('CSV export error:', error);
            }
        }

        // Activity Log
        function addActivityLog(action) {
            const activityLog = document.getElementById('activityLog');
            const now = new Date();
            const timeStr = now.toLocaleTimeString('en-US', { hour12: true, calendar: 'gregory' });
            // Format date as DD/MM/YYYY with English numerals
            const dateStr = `${now.getDate().toString().padStart(2, '0')}/${(now.getMonth() + 1).toString().padStart(2, '0')}/${now.getFullYear()}`;
            
            const activityItem = document.createElement('div');
            activityItem.className = 'activity-item';
            
            const timeSpan = document.createElement('span');
            timeSpan.className = 'activity-time';
            timeSpan.textContent = `${dateStr} ${timeStr}`;
            
            const userSpan = document.createElement('span');
            userSpan.className = 'activity-user';
            userSpan.textContent = currentUser;
            
            activityItem.appendChild(timeSpan);
            activityItem.appendChild(document.createTextNode(' - '));
            activityItem.appendChild(userSpan);
            activityItem.appendChild(document.createTextNode(': ' + action));
            
            activityLog.insertBefore(activityItem, activityLog.firstChild);
        }

        // Helper Functions
        function formatDate(dateStr) {
            if (!dateStr) return '-';
            const date = new Date(dateStr);
            // Format as DD/MM/YYYY with English numerals
            return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`;
        }

        function formatCurrency(amount) {
            return `${formatNumber(amount)} Ø±ÙŠØ§Ù„`;
        }

        function formatNumber(num) {
            return num.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
        }

        function getPlatformName(platform) {
            const platforms = {
                'instagram': 'Ø§Ù†Ø³ØªØºØ±Ø§Ù…',
                'tiktok': 'ØªÙŠÙƒ ØªÙˆÙƒ',
                'snapchat': 'Ø³Ù†Ø§Ø¨ Ø´Ø§Øª',
                'twitter': 'ØªÙˆÙŠØªØ±',
                'youtube': 'ÙŠÙˆØªÙŠÙˆØ¨',
                'facebook': 'ÙÙŠØ³Ø¨ÙˆÙƒ'
            };
            return platforms[platform] || platform;
        }

        function getCampaignStatusName(status) {
            const statuses = {
                'active': 'Ù†Ø´Ø·Ø©',
                'pending': 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                'completed': 'Ù…ÙƒØªÙ…Ù„Ø©',
                'cancelled': 'Ù…Ù„ØºØ§Ø©'
            };
            return statuses[status] || status;
        }

        function getPaymentStatusName(status) {
            const statuses = {
                'paid': 'Ù…Ø¯ÙÙˆØ¹',
                'unpaid': 'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹'
            };
            return statuses[status] || status;
        }

        function getPublishStatusName(status) {
            const statuses = {
                'published': 'Ù…Ù†Ø´ÙˆØ±',
                'not-published': 'ØºÙŠØ± Ù…Ù†Ø´ÙˆØ±'
            };
            return statuses[status] || status;
        }

        function getAdTypeName(type) {
            const types = {
                'standard': 'Ø¥Ø¹Ù„Ø§Ù† Ø¹Ø§Ø¯ÙŠ',
                'reminder': 'Ø¥Ø¹Ù„Ø§Ù† ØªØ°ÙƒÙŠØ±ÙŠ',
                'impression': 'Ø¥Ø¹Ù„Ø§Ù† Ø§Ù†Ø·Ø¨Ø§Ø¹Ø§Øª'
            };
            return types[type] || type;
        }

        function hexToRgb(hex) {
            // Remove # if present
            hex = hex.replace(/^#/, '');
            
            // Parse hex
            const bigint = parseInt(hex, 16);
            const r = (bigint >> 16) & 255;
            const g = (bigint >> 8) & 255;
            const b = bigint & 255;
            
            return { r, g, b };
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            // Set color based on type
            if (type === 'error') {
                notification.style.backgroundColor = 'rgba(231, 76, 60, 0.95)';
            } else if (type === 'warning') {
                notification.style.backgroundColor = 'rgba(243, 156, 18, 0.95)';
            } else if (type === 'info') {
                notification.style.backgroundColor = 'rgba(52, 152, 219, 0.95)';
            } else {
                notification.style.backgroundColor = 'rgba(46, 204, 113, 0.95)';
            }
            
            // Hide notification after 3 seconds
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>
